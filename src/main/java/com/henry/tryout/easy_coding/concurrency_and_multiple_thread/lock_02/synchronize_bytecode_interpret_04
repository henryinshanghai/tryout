通过字节码 来 学习synchronized关键字的实现原理：
字节码省略...

解释：
#1 方法元信息中 会使用ACC_SYNCHRONIZED 来 表示方法是一个同步方法；
#2 同步代码块中会使用 monitorenter 与 monitorexit两个字节码 来 获取与释放monitor；
#3 使用monitorenter 进入时，
    如果 monitor为0，则：
    1 表示该线程可以持有 monitor后继代码；
    2 并把 monitor加一；
    如果 当前线程已经持有了 monitor,则：
        monitor继续加一；
#4 只要monitor不是0，那么 其他线程就会进入阻塞状态。

JVM对synchronized的优化手段：
    1 对monitor的加锁 与 解锁上。
    2 JDK6之后，为 synchronized 添加了不同的锁的实现：
        偏向锁、轻量级锁、重量级锁。
    3 提供了锁的升级与降级机制。

偏向锁：
    是：JVM利用CAS 来 在对象头上设置线程的ID - 表示对象会偏向于当前线程。这就叫做 偏向锁
    作用：
        在资源没有被多线程竞争的情况下，能够减少 锁带来的性能开销。
    原理：
        在 锁对象的对象头 中有一个 ThreadId字段；
        当第一个线程访问锁时，如果这个锁还没有被其他线程访问过，则：
            1 JVM会 让线程持有 偏向锁；
            2 并把锁的ThreadId设置为 当前线程的ID。
        当有线程再次获取锁的时候，会判断 当前线程的ID 与 锁对象的ThreadId是不是一致。
            如果一致，则：此线程不会再重复获取锁 - 因此提高了程序的运行性能
        如果出现了锁竞争的情况，则：偏向锁会被撤销，并且升级成为轻量级锁。
        如果资源竞争非常激烈，则：锁会被升级成为重量级锁。
    总结：
        偏向锁可以降低 无竞争开销；aka, 在不存在线程竞争的情况下，它省掉了 再次判断的步骤，因此提升了性能。