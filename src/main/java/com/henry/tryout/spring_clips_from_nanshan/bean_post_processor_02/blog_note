åœ¨Beançš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒpostProcessBeforeInitialization()æ–¹æ³• ä¼šåœ¨ æ¯ä¸€ä¸ªBeanå¯¹è±¡çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹å‰ è¢«è°ƒç”¨ï¼›
è€Œ postProcessAfterInitialization()æ–¹æ³• ä¼šåœ¨ æ¯ä¸€ä¸ªBeanå¯¹è±¡çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹å è¢«è°ƒç”¨ã€‚

é€šè¿‡ â€œBeanåå¤„ç†å™¨â€è¿™ä¸ªç»„ä»¶ï¼Œ Springæä¾›ç»™å¼€å‘è€…ä¸€ä¸ªèƒ½åŠ› - å¯¹Springæ‰€ç®¡ç†çš„Beanè¿›è¡Œå†åŠ å·¥ã€‚
åº”ç”¨ï¼š
#1 ä¿®æ”¹beançš„å±æ€§ï¼›
#2 ç»™beanç”Ÿæˆä¸€ä¸ªåŠ¨æ€ä»£ç†å®ä¾‹ã€‚

-- è°ƒç”¨å…¥å£ï¼šrefresh() in AbstractApplicationContext --
ğŸ– refresh()æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¼šè°ƒç”¨ ğŸ‘‡æ–¹æ³•ï¼ˆæ²¡æœ‰æ‰¾åˆ°è°ƒç”¨é“¾è·¯ TBDï¼‰

-- initializeBean() in AbstractAutowireCapableBeanFactory --
åˆå§‹åŒ–ç»™å®šçš„beanå®ä¾‹ï¼Œåº”ç”¨â€œå·¥å‚å›è°ƒâ€ ä»¥åŠ â€œinitæ–¹æ³•â€ å’Œ â€œbeanåå¤„ç†å™¨â€ã€‚
å¯¹äºâ€œä¼ ç»Ÿæ–¹å¼å®šä¹‰çš„beanâ€ï¼Œä»createBean()è°ƒç”¨;
å¯¹äºâ€œç°æœ‰beanå®ä¾‹â€ï¼Œä»initializeBean()è°ƒç”¨ã€‚

å‚æ•°:
    beanNameâ€”å·¥å‚ä¸­çš„beanåç§°(ç”¨äºè°ƒè¯•)
    Beanâ€”â€”æˆ‘ä»¬å¯èƒ½éœ€è¦åˆå§‹åŒ–çš„æ–°Beanå®ä¾‹
    MBDâ€”â€”åˆ›å»ºbeanæ—¶ä½¿ç”¨çš„beanå®šä¹‰(å¦‚æœç»™å®šç°æœ‰beanå®ä¾‹ï¼Œä¹Ÿå¯ä»¥ä¸ºç©º)
è¿”å›:
    åˆå§‹åŒ–çš„beanå®ä¾‹(å¯èƒ½è¢«åŒ…è£…)


-- invokeInitMethods() in AbstractAutowireCapableBeanFactory --
ç°åœ¨ï¼Œbeançš„æ‰€æœ‰å±æ€§éƒ½è®¾ç½®å¥½äº†ï¼Œè®©å®ƒæœ‰æœºä¼šèƒ½å¤Ÿï¼š
    #1 åšå‡ºååº”ï¼Œå¹¶æœ‰æœºä¼š #2 äº†è§£å®ƒæ‹¥æœ‰çš„beanå·¥å‚(è¿™ä¸ªå¯¹è±¡)ã€‚
è¿™æ„å‘³ç€ â€œæ£€æŸ¥beanæ˜¯å¦å®ç°äº†InitializingBeanâ€ æˆ– â€œå®šä¹‰äº†è‡ªå®šä¹‰initæ–¹æ³•â€ï¼Œå¦‚æœå®ç°äº†ï¼Œåˆ™ï¼šè°ƒç”¨å¿…è¦çš„å›è°ƒã€‚

å‚æ•°:
    beanNameâ€”å·¥å‚ä¸­çš„beanåç§°(ç”¨äºè°ƒè¯•)
    Beanâ€”â€”æˆ‘ä»¬å¯èƒ½éœ€è¦åˆå§‹åŒ–çš„æ–°Beanå®ä¾‹
    MBDâ€”â€”åˆ›å»ºbeanæ—¶ä½¿ç”¨çš„åˆå¹¶beanå®šä¹‰(å¦‚æœç»™å®šç°æœ‰beanå®ä¾‹ï¼Œä¹Ÿå¯ä»¥ä¸ºç©º)

invokeInitMethods()ç”¨æ¥ åšä¸€ç³»åˆ—çš„åˆå§‹åŒ–åŠ¨ä½œï¼Œæ¯”å¦‚ afterPropertiesSetã€init-methodç­‰ç­‰
åœ¨ invokeInitMethods()æ–¹æ³•å‰åï¼Œä¼šæ‰§è¡Œ applyBeanPostProcessorsBeforeInitialization() ä¸ applyBeanPostProcessorAfterInitialization();

ç»“è®ºï¼šBeanPostProcessorä¸­æ–¹æ³•è°ƒç”¨çš„æ—¶æœºæ˜¯åœ¨ "åˆå§‹åŒ–beanå®ä¾‹"çš„æ—¶å€™ã€‚

Error creating bean with name 'configurationPropertiesBeans' defined
in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]:
Post-processing of merged bean definition failed;
nested exception is java.lang.IllegalStateException:
Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans]
from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]

Spring Bootçš„ç‰ˆæœ¬ ä¸ starter-netflix-ribbon çš„ç‰ˆæœ¬ä¸åŒ¹é…å¯¼è‡´çš„ã€‚
ä½†æ˜¯æ­£ç¡®çš„ç‰ˆæœ¬æ˜ å°„å…³ç³»æ²¡æœ‰æ‰¾åˆ°~~~

å¯èƒ½æ˜¯Spring Bootç‰ˆæœ¬é€‰æ‹©çš„é—®é¢˜ï¼Œ åšå®¢ä¸­çš„ RoutingBeanPostProcessorè¿™ä¸ªå®ç°ç±»æ‰¾ä¸è§ã€‚
åŸç†ï¼š æ£€æŸ¥Beanæ˜¯ä¸æ˜¯ å£°æ˜äº† VersionInjectedæ³¨è§£ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ï¼šä¸ºè¯¥å±æ€§ æ³¨å…¥ä¸€ä¸ªåŠ¨æ€ä»£ç†å®ä¾‹ã€‚
