--- org.springframework.web.servlet.handler.SimpleUrlHandlerMapping ---

// ç‰¹å¾ï¼šå®šä¹‰äº†ä¸€ä¸ªmap æ¥ æŒæœ‰ä¸€ç³»åˆ—çš„æ˜ å°„å…³ç³»
// åº”ç”¨ï¼šéµç…§è¿™é‡Œé¢„å®šä¹‰çš„ URLè¯·æ±‚ä¸æ§åˆ¶å™¨çš„å¯¹åº”å…³ç³»ï¼ŒSpring MVCåº”ç”¨å°±èƒ½å¤Ÿ æ ¹æ®HTTPè¯·æ±‚ï¼Œæ¥æ‰¾åˆ° å…¶æ‰€å¯¹åº”çš„Controllerã€‚
private final Map<String, Object> urlMap = new LinkedHashMap<>();

åŸç†ï¼šè¿™äº›æ˜ å°„å…³ç³»æ˜¯ ä½¿ç”¨æ¥å£ç±» HandlerMappingæ¥å°è£…çš„ã€‚
    HandlerMappingæ¥å£ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªgetHandler()æ–¹æ³•ã€‚
    ä½œç”¨ï¼šè·å¾—ä¸HTTPè¯·æ±‚ç›¸å¯¹åº”çš„ HandlerExecutionChain - åœ¨è¿™ä¸ªChainä¸­ï¼Œå°±å°è£…äº†å…·ä½“çš„Controllerå¯¹è±¡ã€‚
    ç‰¹å¾ï¼šè°ƒç”¨getHandler()æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª HandlerExecutionChain
        è¿™æ˜¯å…¸å‹çš„Commandæ¨¡å¼ - Chainä¸­ä¸ä½†æŒæœ‰handleræœ¬èº«ï¼Œè¿˜åŒ…æ‹¬äº†å¤„ç†è¿™ä¸ªHTTPè¯·æ±‚çš„æ‹¦æˆªå™¨

- HandlerExecutionChain org.springframework.web.servlet.HandlerMapping.getHandler -
ä½œç”¨ï¼šè¿”å› Handleræ‰§è¡Œé“¾æ¡ï¼Œç”±handlerå¯¹è±¡ ä»¥åŠ ä»»æ„çš„handleræ‹¦æˆªå™¨ç»„æˆã€‚
ç‰¹å¾ï¼šç”± HandlerMappingçš„ HandlerMapping.getHandler()æ–¹æ³• è¿”å›ã€‚

- HandlerExecutionChain -
private final Object handler;
    ä½œç”¨ï¼šä½œä¸º HTTPè¯·æ±‚æ‰€å¯¹åº”çš„Controller
    ç”¨æ³•ï¼šéœ€è¦å¯¹handleråšé…ç½®åï¼Œæ‰èƒ½å‘æŒ¥ä½œç”¨ - é…ç½®æ˜¯åœ¨ â€œHandlerExecutionChainçš„åˆå§‹åŒ–å‡½æ•°â€ ä¸­å®Œæˆçš„

private final List<HandlerInterceptor> interceptorList = new ArrayList<>(); // interceptoré“¾æ¡
    ä½œç”¨ï¼šé“¾æ¡ä¸­çš„æ‹¦æˆªå™¨å¯¹è±¡ èƒ½å¤Ÿ ä¸ºhandlerå¯¹è±¡æä¾› åŠŸèƒ½çš„å¢å¼º(advanced)ï¼›
    ç”¨æ³•ï¼šéœ€è¦å¯¹æ‹¦æˆªå™¨é…ç½®åï¼Œæ‰èƒ½å‘æŒ¥ä½œç”¨ - é…ç½®æ˜¯åœ¨ â€œHandlerExecutionChainçš„åˆå§‹åŒ–å‡½æ•°â€ ä¸­å®Œæˆçš„

// åˆå§‹åŒ–æ–¹æ³• ğŸ‘‡
// ç‰¹å¾ï¼šç›¸æ¯”è¾ƒäºå…ˆå‰çš„ç‰ˆæœ¬ï¼Œç°åœ¨åˆå§‹åŒ–æ–¹æ³•æä¾›äº†æ›´å¤šçš„é‡è½½
public HandlerExecutionChain(Object handler, List<HandlerInterceptor> interceptorList) {
    if (handler instanceof HandlerExecutionChain) {
        HandlerExecutionChain originalChain = (HandlerExecutionChain) handler;
        this.handler = originalChain.getHandler();
        this.interceptorList.addAll(originalChain.interceptorList);
    }
    else {
        this.handler = handler;
    }
    this.interceptorList.addAll(interceptorList);
}

/* å…¶ä»–ç”¨äºç»´æŠ¤handler ä¸ æ‹¦æˆªå™¨é“¾æ¡ çš„æ–¹æ³• */
# ä¸ºæ‹¦æˆªå™¨é“¾æ¡æ·»åŠ æ‹¦æˆªå™¨çš„æ–¹æ³• addInterceptor()æ–¹æ³•

ç”¨æ³•ç‰¹å¾ï¼š HandlerExecutionChain ä¸­æ‰€å®šä¹‰çš„Handler ä¸ Interceptor éƒ½éœ€è¦ åœ¨â€œå®šä¹‰HandlerMappingâ€æ—¶é…ç½®å¥½ã€‚
å¯¹äº SimpleUrlHandlerMapping æ¥è¯´ï¼Œå°±éœ€è¦ï¼š
    æ ¹æ®URLæ˜ å°„çš„æ–¹å¼ï¼Œ æ¥ æ³¨å†Œ â€œHandlerâ€ ä¸ â€œInterceptorâ€ - è¿™æ ·å°±èƒ½å¤Ÿç»´æŠ¤ä¸€ä¸ªhandlerMapï¼Œæ¥è®°å½•ï¼ˆurl -> controllerï¼‰æ˜ å°„å…³ç³»
åŸç†ï¼šå½“æ¥æ”¶åˆ°ä¸€ä¸ª HTTPè¯·æ±‚çš„æ—¶å€™ï¼ŒSpring MVC ä¼šä»â€œä¸Šé¢çš„handlerMapä¸­â€ æŸ¥è¯¢å¾—åˆ° å¯¹åº”çš„ HandlerExecutionChainã€‚
#é—®ï¼šhandlerMapä¸­çš„ä¿¡æ¯æ˜¯ä»€ä¹ˆæ—¶å€™é…ç½®å¥½/æ·»åŠ å¥½çš„å‘¢ï¼Ÿ
ç­”ï¼šæœ‰ä¸€ä¸ªæ³¨å†Œè¿‡ç¨‹ ç”¨æ¥å®Œæˆ é…ç½®ä¿¡æ¯çš„å·¥ä½œï¼Œè¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿåœ¨ â€œå®¹å™¨å¯¹Beanè¿›è¡Œä¾èµ–æ³¨å…¥â€æ—¶ã€‚
å…·ä½“å·¥ä½œæ˜¯ä½¿ç”¨ ä¸€ä¸ªBeançš„postProcessorå®Œæˆçš„ã€‚å…·ä½“æ–¹æ³•è°ƒç”¨é“¾ç•¥

- å¯¹å®¹å™¨çš„å›è°ƒ -
å‰æï¼šåªæœ‰ SimpleHandlerMapping æ˜¯ ApplicationContextAwareçš„å­ç±»ï¼Œæ‰èƒ½å¤Ÿ å¯åŠ¨è¿™ä¸ªæ³¨å†Œè¿‡ç¨‹ã€‚
ç‰¹å¾ï¼šåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåˆå§‹åŒ–äº† handlerMap - ç”¨äº è®°å½• URLåˆ°Controllerä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚

SimpleUrlHandlerMapping çš„ç±»ç»§æ‰¿å…³ç³» & initApplicationContext()æ–¹æ³•çš„ç»§æ‰¿å…³ç³»ï¼š
Ctrl + H & Ctrl + Alt + H
