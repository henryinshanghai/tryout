🔑 解题所需的核心概念
要正确解决此题，你需要掌握以下关键知识：

概念	                说明
IPv4 格式规则	    4 段 十进制数，每段 0～255，无 前导零（除 "0" 本身）
IPv6 格式规则	    8 段 十六进制数，每段 1～4 位，字母大小写 均可
字符串分割（split）	按 '.' 或 ':' 分割
字符合法性检查	    判断 是否为 数字 / 十六进制字符
边界与异常处理	    空段、超长、非法字符、前导零 等