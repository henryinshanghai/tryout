❓ 四、为什么需要三级？二级不够吗？
这是理解 三级缓存 最核心的问题。

假设只有 两级缓存（去掉三级）：
① 在 A 实例化 后，直接 把 a_raw 放入 二级缓存。
② 当 B 需要 A 时，直接 从 二级缓存 拿到 a_raw。
③ 但 A 实际上 需要代理！
最终：B 拿到的是 原始对象，而容器里 放的是 代理对象 → 不一致！

三级缓存的作用：
① 延迟决策：不提前决定 暴露 原始对象 还是 代理对象。
② 按需生成：只有当 真的 被 循环依赖 引用 时，才通过 ObjectFactory 判断 是否需要 代理。
③ 保证一致性：无论是否 被循环依赖，最终 所有地方 使用的都是 同一个对象（原始 or 代理）。
✅ 三级缓存的本质：为了解决 “带AOP的循环依赖”中 对象一致性 问题。

===
1.三级缓存 是为了解决 什么样的问题？
答：三级缓存 是为了解决 Spring中 单例 Bean 在 存在 循环依赖 且 需要 AOP代理 时的 对象一致性问题。


2.三级缓存为什么能够解决该问题?
答：三级缓存 通过 延迟暴露 早期引用（使用 ObjectFactory 按需生成 原始对象 或 代理对象），
来 确保 循环依赖中 获取到的Bean 与 容器中 最终存储的Bean 是 同一个实例，从而保证 AOP语义 不被破坏。