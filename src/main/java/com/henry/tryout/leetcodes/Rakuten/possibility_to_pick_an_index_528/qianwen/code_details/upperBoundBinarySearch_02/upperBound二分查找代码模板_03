å¯¹äºâ€˜å·¦é—­å³å¼€åŒºé—´â€™ï¼Œæ€ä¹ˆèƒ½å†™å‡º æ­£ç¡®çš„upper-boundç±»å‹çš„ äºŒåˆ†æŸ¥æ‰¾ä»£ç ï¼Ÿ

===
ä¸‹é¢æˆ‘å°†ä»åŸç†ã€æ¨¡æ¿ã€æ¨å¯¼ã€éªŒè¯å››ä¸ªå±‚é¢ï¼Œå¸®ä½ å½»åº•æŒæ¡å®ƒã€‚

âœ… ä¸€ã€æ˜ç¡®ç›®æ ‡ï¼šä»€ä¹ˆæ˜¯ upper-boundï¼Ÿ
upper-bound(target)ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­ï¼Œæ‰¾åˆ° ç¬¬ä¸€ä¸ª å¤§äºtargetçš„å…ƒç´  çš„ç´¢å¼•ã€‚

ğŸ“Œ æ•°å­¦å®šä¹‰ï¼š
ç»™å®š ä¸¥æ ¼é€’å¢æ•°ç»„ arrï¼Œæ±‚ æœ€å°çš„i ä½¿å¾—ï¼š
    arr[i]>target

å¦‚æœæ‰€æœ‰å…ƒç´  â‰¤ targetï¼Œåˆ™è¿”å› nï¼ˆæ•°ç»„é•¿åº¦ï¼‰ã€‚

ğŸ’¡ åœ¨ LeetCode 528 ä¸­ï¼Œtarget = randï¼Œarr = prefixSumï¼Œæˆ‘ä»¬ è¦æ‰¾çš„å°±æ˜¯ è¿™ä¸ª iï¼

===
ğŸ”‘ äºŒã€é€šç”¨æ¨¡æ¿ï¼ˆé€‚ç”¨äº å·¦é—­å³å¼€åŒºé—´çš„ upper-boundï¼‰

    // å‰æï¼šarr æ˜¯éé€’å‡ï¼ˆé€šå¸¸ä¸¥æ ¼é€’å¢ï¼‰æ•°ç»„
    public int upperBound(int[] arr, int target) {
        int left = 0;
        int right = arr.length; // æ³¨æ„ï¼šright = nï¼Œä¸æ˜¯ n-1ï¼

        while (left < right) {
            int mid = left + (right - left) / 2;
            if (arr[mid] <= target) {
                left = mid + 1;   // arr[mid] ä¸æ»¡è¶³ > targetï¼Œèˆå¼ƒ mid åŠå·¦è¾¹
            } else {
                right = mid;      // arr[mid] æ»¡è¶³æ¡ä»¶ï¼Œä½†å¯èƒ½ä¸æ˜¯ç¬¬ä¸€ä¸ªï¼Œä¿ç•™ mid
            }
        }
        return left; // æ­¤æ—¶ left == rightï¼Œå³ç­”æ¡ˆ
    }
âœ… è¿™å°±æ˜¯ä½ è¦çš„æ ‡å‡† upper-bound æ¨¡æ¿ï¼

===
ğŸ” ä¸‰ã€ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Ÿâ€”â€”â€”â€” å¾ªç¯ä¸å˜å¼è§£é‡Š
æˆ‘ä»¬ç»´æŠ¤çš„â€˜å¾ªç¯ä¸å˜å¼â€™æ˜¯ï¼š
    arr[0..left-1] ä¸­çš„æ‰€æœ‰å…ƒç´  â‰¤ target
    arr[right..n-1] ä¸­çš„æ‰€æœ‰å…ƒç´  > target

åˆå§‹æ—¶ï¼š
â‘  left = 0 â†’ å·¦ä¾§ç©ºï¼Œæˆç«‹
â‘¡ right = n â†’ å³ä¾§ç©ºï¼Œæˆç«‹

æ¯æ¬¡è¿­ä»£ï¼š
â‘  è‹¥ arr[mid] <= target â†’ mid å±äºå·¦ä¾§ â†’ left = mid + 1
â‘¡ è‹¥ arr[mid] > target â†’ mid å±äºå³ä¾§ â†’ right = mid

å¾ªç¯ç»“æŸæ—¶ left == rightï¼Œæ­¤æ—¶ï¼š
â‘  arr[0..left-1] â‰¤ target
â‘¡ arr[left..n-1] > target
â†’ æ‰€ä»¥ left å°±æ˜¯ç¬¬ä¸€ä¸ª > target çš„ä½ç½®ï¼