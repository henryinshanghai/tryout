å¸¸å¥½çš„é—®é¢˜ï¼LeetCode 41 é¢˜ï¼ˆFirst Missing Positiveï¼‰çš„åŸåœ°å“ˆå¸Œï¼ˆIn-place Hashingï¼‰æ ‡å‡†è§£æ³•è™½ç„¶ç®€æ´ï¼Œä½†æœ‰å‡ ä¸ªæå…¶å®¹æ˜“å†™é”™çš„ç»†èŠ‚ï¼Œç¨ä¸æ³¨æ„å°±ä¼šå¯¼è‡´ æ­»å¾ªç¯ã€æ•°ç»„è¶Šç•Œã€é€»è¾‘é”™è¯¯æˆ–æ¼è§£ã€‚
ä¸‹é¢ä¸ºä½ ç³»ç»Ÿæ¢³ç† 5 ä¸ªæœ€å¸¸è§ã€æœ€å®¹æ˜“è¸©çš„å‘ï¼Œå¹¶é™„ä¸Šæ­£ç¡®å†™æ³•å’Œé”™è¯¯ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ å½»åº•é¿å¼€ï¼

===
âœ… å®¹æ˜“å‡ºé”™ç‚¹ 1ï¼šwhile æ¡ä»¶ä¸­ nums[i] çš„ä½¿ç”¨é¡ºåºé”™è¯¯ â†’ æ•°ç»„è¶Šç•Œ
âŒ é”™è¯¯å†™æ³•ï¼ˆå±é™©ï¼ï¼‰ï¼š
    while (nums[i] != nums[nums[i] - 1] && nums[i] >= 1 && nums[i] <= n)
å…ˆè®¿é—® nums[nums[i] - 1]ï¼Œå†åˆ¤æ–­ nums[i] æ˜¯å¦åœ¨ [1, n] èŒƒå›´å†…ã€‚

âš ï¸ åæœï¼š
â‘  å¦‚æœ nums[i] = -5 æˆ– nums[i] = 1000ï¼ˆè¶…å‡ºèŒƒå›´ï¼‰ï¼Œ
    nums[i] - 1 å°±æ˜¯éæ³•ä¸‹æ ‡ï¼ˆå¦‚ -6 æˆ– 999ï¼‰ï¼Œ
    â†’ ç›´æ¥æŠ›å‡º ArrayIndexOutOfBoundsException

âœ… æ­£ç¡®é¡ºåºï¼ˆå¿…é¡»å…ˆèŒƒå›´æ£€æŸ¥ï¼ï¼‰ï¼š
    while (nums[i] >= 1 && nums[i] <= n && nums[i] != nums[nums[i] - 1])
å…ˆç¡®ä¿ nums[i] âˆˆ [1, n]ï¼Œå† å®‰å…¨åœ°è®¿é—® nums[nums[i] - 1]
ğŸ’¡ å£è¯€ï¼šâ€œå…ˆéªŒèº«ï¼Œå†è¿›é—¨â€ â€”â€” å…ˆéªŒè¯ ç´¢å¼•åˆæ³•ï¼Œå† ç”¨ å®ƒ å» è®¿é—®æ•°ç»„ã€‚

===
âœ… å®¹æ˜“å‡ºé”™ç‚¹ 2ï¼šå¿˜è®°å¤„ç† é‡å¤å…ƒç´  â†’ æ­»å¾ªç¯
âŒ é”™è¯¯å†™æ³•ï¼ˆæ— é‡å¤æ£€æŸ¥ï¼‰ï¼š
    while (nums[i] >= 1 && nums[i] <= n) {
        swap(nums, i, nums[i] - 1);
    }
âš ï¸ åæœï¼š
è¾“å…¥å¦‚ [1, 1]ï¼š
    â‘  i=0ï¼šnums[0]=1ï¼Œåº”æ”¾åˆ°ä½ç½® 0ï¼Œå·²åœ¨æ­£ç¡®ä½ç½®ï¼Ÿä½†ç»§ç»­äº¤æ¢ï¼Ÿ
    â‘¡ æ›´ç³Ÿçš„æ˜¯ i=1ï¼šnums[1]=1ï¼Œè¦å’Œ nums[0] äº¤æ¢ â†’ äº¤æ¢å è¿˜æ˜¯ [1,1]
    â‘¢ ä¸‹æ¬¡å¾ªç¯ åˆä¸€æ · â†’ æ— é™äº¤æ¢ï¼Œæ­»å¾ªç¯ï¼

âœ… æ­£ç¡®åšæ³•ï¼šåŠ å…¥ é‡å¤å€¼åˆ¤æ–­
    while (nums[i] >= 1 && nums[i] <= n && nums[i] != nums[nums[i] - 1]) {
        swap(nums, i, nums[i] - 1);
    }
åªæœ‰å½“ ç›®æ ‡ä½ç½®çš„å€¼ â‰  å½“å‰å€¼ æ—¶æ‰äº¤æ¢ã€‚
å¦‚æœ nums[i] == nums[nums[i]-1]ï¼Œè¯´æ˜ è¯¥æ•°å­— å·²ç» â€œå°±ä½â€ï¼ˆæˆ–é‡å¤ï¼‰ï¼Œæ— éœ€ å†åŠ¨ã€‚
ğŸ’¡ æ³¨æ„ï¼šè¿™ä¸ªæ¡ä»¶ ä¹Ÿæ¶µç›–äº† â€œå·²åœ¨æ­£ç¡®ä½ç½®â€çš„æƒ…å†µï¼ˆå› ä¸ºè‹¥ nums[i] == i+1ï¼Œåˆ™ nums[nums[i]-1] == nums[i]ï¼‰ã€‚

===
âœ… å®¹æ˜“å‡ºé”™ç‚¹ 3ï¼šäº¤æ¢é€»è¾‘å†™å / ç´¢å¼•è®¡ç®—é”™è¯¯
âŒ å¸¸è§é”™è¯¯ï¼š
    // é”™è¯¯1ï¼šæŠŠ i å’Œ nums[i] äº¤æ¢ï¼ˆè€Œä¸æ˜¯ nums[i]-1ï¼‰
    swap(nums, i, nums[i]);

    // é”™è¯¯2ï¼šå…ˆä¿®æ”¹ nums[i]ï¼Œå† ç”¨å®ƒ ç®—ç´¢å¼•
    int target = nums[i] - 1;
    nums[i] = nums[target];
    nums[target] = nums[i]; // âŒ æ­¤æ—¶ nums[i] å·²å˜ï¼

âœ… æ­£ç¡®äº¤æ¢æ–¹å¼ï¼ˆä¸¤ç§ï¼‰ï¼š
æ–¹å¼ Aï¼šä½¿ç”¨ ä¸´æ—¶å˜é‡ï¼ˆæ¨èï¼‰
    int target = nums[i] - 1;
    int temp = nums[i];
    nums[i] = nums[target];
    nums[target] = temp;

æ–¹å¼ Bï¼šç›´æ¥å†™ï¼ˆæ³¨æ„é¡ºåºï¼‰
    int pos = nums[i] - 1;
    int temp = nums[pos];
    nums[pos] = nums[i];
    nums[i] = temp;

âš ï¸ ç»å¯¹ä¸è¦å†™æˆï¼š
    nums[i] = nums[nums[i] - 1]; // nums[i] è¢«è¦†ç›–äº†ï¼
    nums[nums[i] - 1] = ...;     // è¿™é‡Œ nums[i] å·²ä¸æ˜¯åŸæ¥çš„å€¼ï¼

===
âœ… å®¹æ˜“å‡ºé”™ç‚¹ 4ï¼šfor å¾ªç¯ä¸­ ç§»åŠ¨äº† iï¼Œæˆ– while ä¸­æ²¡å›ºå®š i
âŒ é”™è¯¯æ€è·¯ï¼š
â‘  æœ‰äººè¯•å›¾åœ¨ while é‡Œ i++ï¼Œæˆ–è€…ç”¨ while æ›¿ä»£ for
â‘¡ æˆ–è€…å†™æˆï¼š
    while (i < n) {
        if (...) { i++; }
        else { swap(); } // ä½†æ²¡ä¿è¯å½“å‰ä½ç½®æœ€ç»ˆæ­£ç¡®
    }
âœ… æ­£ç¡®æ¨¡å¼ï¼š
â‘  å¤–å±‚ç”¨ for (int i = 0; i < n; i++)
â‘¡ å†…å±‚ while å›ºå®š iï¼Œç›´åˆ° nums[i] ä¸éœ€è¦å†æ¢ ä¸ºæ­¢
â‘¢ å³ï¼šæ¯ä¸ªä½ç½® iï¼Œé€šè¿‡ å¤šæ¬¡äº¤æ¢ï¼Œæœ€ç»ˆâ€œå½’ä½â€ä¸€ä¸ª å±äºè¯¥ä½ç½®çš„æ•°ï¼ˆæˆ– ç•™ä¸‹ä¸€ä¸ª æ— æ³•å½’ä½çš„æ•°ï¼‰
ğŸ’¡ æ ¸å¿ƒæ€æƒ³ï¼šâ€œå¯¹äº å½“å‰ä½ç½® iï¼Œæˆ‘è¦ æŠŠ è¯¥æ”¾åˆ°å®ƒä¸Šé¢çš„å…ƒç´  æ”¾è¿›æ¥ï¼Œä¸ç®¡ æ¢å¤šå°‘æ¬¡â€

===
âœ… å®¹æ˜“å‡ºé”™ç‚¹ 5ï¼šè¾¹ç•Œç†è§£é”™è¯¯ â€”â€” å¿½ç•¥ç­”æ¡ˆå¯èƒ½æ˜¯ n+1
âŒ é”™è¯¯æ”¶å°¾ï¼š
    for (int i = 0; i < n; i++) {
        if (nums[i] != i + 1) return i + 1;
    }
    return n; // âŒ é”™äº†ï¼

âœ… æ­£ç¡®æ”¶å°¾ï¼š
    for (int i = 0; i < n; i++) {
        if (nums[i] != i + 1) return i + 1;
    }
    return n + 1; // âœ… æ¯”å¦‚ [1,2,3] â†’ ç¼º 4
ğŸ“Œ è®°ä½ï¼šå¦‚æœæ•°ç»„ æ°å¥½æ˜¯ [1,2,3,...,n]ï¼Œé‚£ä¹ˆ ç¬¬ä¸€ä¸ªç¼ºå¤±çš„ æ­£æ•´æ•° æ˜¯ n+1

===
âœ… æœ€åæé†’ä½ é‡ç‚¹æ£€æŸ¥ï¼š

æ£€æŸ¥é¡¹	                                    æ˜¯å¦åšåˆ°
while æ¡ä»¶ å…ˆåˆ¤æ–­ 1 â‰¤ nums[i] â‰¤ nï¼Ÿ	        âœ…
æ˜¯å¦æœ‰ nums[i] != nums[nums[i]-1] é˜²æ­»å¾ªç¯ï¼Ÿ	âœ…
äº¤æ¢æ—¶ æ˜¯å¦ç”¨ ä¸´æ—¶å˜é‡ï¼Œä¸” ç´¢å¼•æ˜¯ nums[i]-1ï¼Ÿ	âœ…
å¤–å±‚æ˜¯ forï¼Œå†…å±‚ while å›ºå®š iï¼Ÿ	            âœ…
æœ€åè¿”å› n+1 è€Œä¸æ˜¯ nï¼Ÿ	                    âœ…

åªè¦ è¿™äº”ç‚¹ éƒ½å¯¹ï¼Œä½ çš„ä»£ç å°±å‡ ä¹ä¸å¯èƒ½å‡ºé”™ï¼