ğŸ“ˆ å››ã€ç®—æ³•æ­¥éª¤ï¼ˆä¼ªä»£ç ï¼‰
åˆå§‹åŒ–ï¼š
  internalBuf[4]   // å†…éƒ¨ç¼“å†²åŒº
  internalIndex = 0
  internalSize = 0

read(buf, n):
  i = 0  // buf çš„å†™å…¥æŒ‡é’ˆ
  while i < n:
      if internalIndex == internalSize:  // å†…éƒ¨ç¼“å†²åŒº ç©ºäº†
          internalSize = read4(internalBuf)
          internalIndex = 0
          if internalSize == 0: break    // æ–‡ä»¶ç»“æŸ

      // ä» internalBuf æ‹·è´å­—ç¬¦åˆ° buf
      buf[i] = internalBuf[internalIndex]
      i++
      internalIndex++

  return i