ğŸ§© äºŒã€å„é˜¶æ®µè¯¦è§£ä¸åº”ç”¨åœºæ™¯
ï¸âƒ£1 å®ä¾‹åŒ–ï¼ˆInstantiationï¼‰
â‘  è°ƒç”¨ æ„é€ å‡½æ•° æˆ– å·¥å‚æ–¹æ³•ï¼Œåˆ›å»º åŸå§‹å¯¹è±¡ï¼ˆraw objectï¼‰ã€‚
â‘¡ âœ… åº”ç”¨ï¼šæ„é€ å™¨æ³¨å…¥ï¼ˆä½† æ— æ³•è§£å†³ å¾ªç¯ä¾èµ–ï¼‰ã€‚

==
ï¸2âƒ£ å±æ€§å¡«å……ï¼ˆPopulate Propertiesï¼‰
â‘  é€šè¿‡ @Autowiredã€@Value æˆ– XML é…ç½® æ³¨å…¥ä¾èµ–ã€‚
â‘¡ âœ… åº”ç”¨ï¼šå­—æ®µæ³¨å…¥ã€setter æ³¨å…¥ï¼ˆæ”¯æŒå¾ªç¯ä¾èµ–ï¼‰ã€‚

==
ï¸3âƒ£ Aware æ¥å£å›è°ƒ
å¦‚æœ Bean å®ç°äº† ä»¥ä¸‹æ¥å£ï¼ŒSpring ä¼š è‡ªåŠ¨æ³¨å…¥ å®¹å™¨ç›¸å…³ä¿¡æ¯ï¼š
â‘  BeanNameAware â†’ è·å– Bean åç§°
â‘¡ BeanFactoryAware â†’ è·å– BeanFactory
â‘¢ ApplicationContextAware â†’ è·å– ApplicationContext

âœ… åº”ç”¨åœºæ™¯ï¼š
    @Component
    public class MyService implements ApplicationContextAware {
        private ApplicationContext ctx;

        @Override
        public void setApplicationContext(ApplicationContext applicationContext) {
            this.ctx = applicationContext; // æ‰‹åŠ¨è·å–ä¸Šä¸‹æ–‡
        }
    }
âš  ä¸€èˆ¬ ä¸æ¨è ç›´æ¥æŒæœ‰ ApplicationContextï¼Œé™¤éå¿…è¦ï¼ˆå¦‚åŠ¨æ€è·å– Beanï¼‰ã€‚

===
ï¸4âƒ£ & 6ï¸âƒ£ BeanPostProcessorï¼ˆBPPï¼‰
è¿™æ˜¯ Spring æœ€å¼ºå¤§çš„æ‰©å±•ç‚¹ä¹‹ä¸€ï¼
â‘  postProcessBeforeInitializationï¼šåœ¨ åˆå§‹åŒ–æ–¹æ³• å‰ è°ƒç”¨
â‘¡ postProcessAfterInitializationï¼šåœ¨ åˆå§‹åŒ–æ–¹æ³• å è°ƒç”¨

âœ… æ ¸å¿ƒåº”ç”¨ï¼š
â‘  AOP ä»£ç†ç”Ÿæˆï¼š
    AnnotationAwareAspectJAutoProxyCreator å°±æ˜¯ä¸€ä¸ª BPPï¼Œ
    å®ƒåœ¨ postProcessAfterInitialization ä¸­ åˆ¤æ–­ æ˜¯å¦éœ€è¦ åˆ›å»ºä»£ç†ã€‚
â‘¡ è‡ªå®šä¹‰ å¢å¼ºé€»è¾‘ï¼šå¦‚ æ—¥å¿—ã€æ ¡éªŒã€ç¼“å­˜åŒ…è£…ç­‰ã€‚
    @Component
    public class MyBeanPostProcessor implements BeanPostProcessor {
        @Override
        public Object postProcessAfterInitialization(Object bean, String beanName) {
            if ("myService".equals(beanName)) {
                return Proxy.newProxyInstance(...); // æ‰‹åŠ¨ä»£ç†
            }
            return bean;
        }
    }

ğŸ”¥ é‡ç‚¹ï¼šä»£ç†å¯¹è±¡ æ˜¯åœ¨ postProcessAfterInitialization é˜¶æ®µ(6th é˜¶æ®µ) ç”Ÿæˆçš„ï¼Œ
è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ ä¸‰çº§ç¼“å­˜ éœ€è¦ å»¶è¿Ÿæš´éœ² å¼•ç”¨â€”â€”â€”â€” å› ä¸º æ­¤æ—¶ ä»£ç† æ‰ç¡®å®šï¼

===
ï¸5âƒ£ åˆå§‹åŒ–æ–¹æ³•ï¼ˆInitializationï¼‰
ä¸‰ç§æ–¹å¼ï¼ˆæŒ‰æ‰§è¡Œé¡ºåºï¼‰ï¼š
1.@PostConstructï¼ˆJSR-250 æ ‡å‡†ï¼‰
2.InitializingBean.afterPropertiesSet()
3.XML æˆ– @Bean(initMethod = "...") æŒ‡å®šçš„æ–¹æ³•

âœ… åº”ç”¨åœºæ™¯ï¼š
â‘  å¯åŠ¨æ—¶ åŠ è½½ç¼“å­˜
â‘¡ å»ºç«‹ æ•°æ®åº“è¿æ¥
â‘¢ å¯åŠ¨ åå°çº¿ç¨‹

    @Service
    public class CacheService {
        @PostConstruct
        public void loadCache() {
            System.out.println("ç¼“å­˜é¢„çƒ­å®Œæˆï¼");
        }
    }

===
ï¸âƒ£8 é”€æ¯æ–¹æ³•ï¼ˆDestructionï¼‰
å®¹å™¨å…³é—­æ—¶ï¼ˆå¦‚ ctx.close()ï¼‰è§¦å‘ï¼š
â‘  @PreDestroy
â‘¡ DisposableBean.destroy()
â‘¢ @Bean(destroyMethod = "...")

âœ… åº”ç”¨åœºæ™¯ï¼š
â‘  å…³é—­ æ•°æ®åº“è¿æ¥æ± 
â‘¡ åœæ­¢ å®šæ—¶ä»»åŠ¡
â‘¢ é‡Šæ”¾èµ„æº

    @PreDestroy
    public void cleanup() {
        threadPool.shutdown();
    }

===
é˜¶æ®µ	                                é¡ºåº	            è¯´æ˜
æ„é€ å‡½æ•°	                            æœ€æ—©	            å¯¹è±¡åˆšåˆ›å»º
å±æ€§æ³¨å…¥	                            ç¬¬äºŒ	            @Autowired ç”Ÿæ•ˆ
Aware æ¥å£	                        ç¬¬ä¸‰	            å®¹å™¨ä¿¡æ¯æ³¨å…¥
BPP å‰	                            åˆå§‹åŒ–å‰	        å¯ä¿®æ”¹ Bean çŠ¶æ€
@PostConstruct / afterPropertiesSet	åˆå§‹åŒ–æ ¸å¿ƒ	    ä¸šåŠ¡åˆå§‹åŒ–
BPP å	                            åˆå§‹åŒ–å	        AOP ä»£ç†åœ¨æ­¤ç”Ÿæˆï¼
é”€æ¯å›è°ƒ	                            å®¹å™¨å…³é—­æ—¶	    èµ„æºæ¸…ç†